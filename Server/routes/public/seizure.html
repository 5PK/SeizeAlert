<html>

<head>
  <title>Seizure</title>

  <!-- Scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Style sheets -->
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <!-- Internal Style sheet. -->
  <style>
    .menuBtn {
      width: 200px;
      height: 200px;
      margin: 2%;
    }
  </style>

  <!-- Internal Javascript -->
  <script>
    window.onload = async function () {
      const data = await fetch("http://localhost:6969/seizure/g/1");
      var dataJson = await data.json();

      // dataPoints
      var xdps = [];
      var ydps = [];
      var zdps = [];

      // Create Chart
      // Currently have dummy data to display the chart properly.
      var xchart = new CanvasJS.Chart("chartContainer", {
        backgroundColor: "#fafafa",
        axisY: {
          includeZero: false
        },
        data: [
          {
            type: "line",
            dataPoints: xdps,
            showInLegend: true,
            name: "series1",
            legendText: "x data",

          },
          {
            type: "line",
            dataPoints: ydps,
            showInLegend: true,
            name: "series1",
            legendText: "y data",
          },
          {
            type: "line",
            dataPoints: zdps,
            showInLegend: true,
            name: "series1",
            legendText: "z data",
          }
        ]
      });

      updateChart(dataLength);
      setInterval(function () {
        updateChart();
      }, updateInterval);
    };
  </script>
</head>

<body class="grey lighten-2">
  <!-- Start of Nav -->
  <nav>
    <div class="nav-wrapper blue-grey">
      <a href="/admin" class="brand-logo" style="margin-left: 2%">Seize Alert Administrator</a>
      <ul class="right hide-on-med-and-down">
        <!-- Dropdown Trigger -->
        <li>
          <a class="dropdown-trigger" href="#!" data-target="dropdown1">Seizure Events<i
              class="material-icons right">arrow_drop_down</i></a>
        </li>
      </ul>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
    </div>
  </nav>
  <!-- End of Nav -->

  <!-- Start of the container -->
  <div class="container" style="margin-top:5%; width:85%;" id="app">
    <!-- Start of a row. -->
    <div class="row">
      <div class="col s12 m6" style="height: 100%;">
        <div class="card-panel grey lighten-5" style="height: 70%;">
          <h4>Right Arm Data:</h4>
          <div id="RAchart"></div>
        </div>
      </div>

      <!-- Start of Graph for leg data -->
      <div class="col s12 m6" style="height: 100%;">
        <div class="card-panel  grey lighten-5" style="height: 70%;">
          <h4>Right Leg Data:</h4>
          <div id="RLchart"></div>
        </div>
        <button v-on:click="myfunc">Add 1</button>
      </div>       <!-- End of Graph for leg  -->
    </div>
  </div>   <!-- End of container -->

  <!-- Dropdown Structure -->
  <ul id="dropdown1" class="dropdown-content">
    <li><a href="/admin/noseizure">Event 1 - Non Seizure</a></li>
    <li><a href="/admin/seizure">Event 2 - Seizure Event</a></li>
  </ul>

  <!-- Scripts -->
  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
    // Side bar navigation functionality.
    $(document).ready(function () {
      $(".sidenav").sidenav();
      $("select").formSelect();
      $(".dropdown-trigger").dropdown();
    });
  </script>
</body>

</html>